#!/usr/bin/env bash

# Author: Jarrod Cameron (z5210220)
# Date:   08/05/19 15:30

declare -A bm_dict

# TODO: get the maximium length of the names
max_len=0

while read -r bm_name; do
  read -r bm_url

  # Clear leading and trailing white space and quotation marks
  bm_name="$(echo "$bm_name" | sed 's/^"\s*// ; s/\s*"$//')"
  bm_url="$(echo "$bm_url" | sed 's/^"\s*// ; s/\s*"$//')"

  # Insert into hash table
  bm_dict["$bm_name"]+="$bm_url"

  curr_len="$(echo -n "$bm_name" | wc -c)"
  [[ "$curr_len" > "$max_len" ]] && max_len="$curr_len"

done <<< "$(jq ".roots.bookmark_bar.children[] | .name, .url" "$HOME""/.config/google-chrome/Default/Bookmarks")"

echo $max_len
